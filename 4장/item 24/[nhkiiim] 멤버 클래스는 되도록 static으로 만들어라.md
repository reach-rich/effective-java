# 멤버 클래스는 되도록 static으로 만들어라

### 1. 중첩 클래스
- 중첩 클래스란 다른 클래스 안에 정의된 클래스
- 중첩 클래스는 자신을 둘러싼 클래스 내부에서만 사용 되어야 함

- 중첩 클래스의 종류 : 정적 멤버 클래스, (비정적) 멤버 클래스, 익명 클래스, 지역 클래스

#
### 2. 정적 멤버 클래스
- 다른 클래스 안에 선언되고 바깥 클래스의 private 멤버에도 접근 가능한 일반 클래스로 보면 됨
- 다른 정적 멤버와 똑같은 접근 규칙을 적용받음
- public 도우미 클래스로 쓰임

#
### 3. 비정적 멤버 클래스
- 정적 멤버 클래스와 비정적 멤버 클래스의 의미상 차이는 꽤나 크다!
- 비정적 멤버 클래스의 인스턴스는 바깥 클래스의 인스턴스와 암묵적으로 연결됨
- this를 사용해 바깥 인스턴스의 메서드를 호출하거나 바깥 인스턴스의 참조를 가져올 수 있음
- 클래스명.this로 쓰는 경우를 말함

<br>

- 그래서! 개념상 중첩 클래스의 인스턴스가 바깥 인스턴스와 독립적으로 존재할 수 있다면 정적 멤버 클래스로 만들어야함
- 비정적 멤버 클래스는 바깥 인스턴스 없이는 생성할 수 없음

<br>

- 비정적 멤버 클래스의 인스턴스와 바깥 인스턴스 사이의 관계는 멤버 클래스가 인스턴스화 될 때 확립됨 (변경 불가)
- 이 관계는 바깥 클래스의 인스턴스 메서드에서 비정적 멤버 클래스의 생성자를 호출할 때 자동으로 만들어지는 것이 보통
- 드물게는 직접 바깥 인스턴스 클래스.new Member Class(args)를 호출해 수동으로 만들기도 함
- 이 관계 정보는 메모리도 차지하고 생성 시간도 더 걸림!

<br>
- 비정적 클래스 활용 : 어뎁터
- 어떤 클래스의 인스턴스를 감싸 마치 다른 클래스의 인스턴스처럼 보이게 하는 뷰로 사용함

#
### 4. 정적 멤버 클래스!!!!!!!!!!!!!!!!!!!
- 멤버 클래스에서 바깥 인스턴스에 접근할 일이 없다면 무조건 static을 붙여 정적 멤버 클래스로 만들자!
- 비정적 클래스가 되면 숨은 참조가 생겨버려서 메모리 누수가 생길 수도 있고 참조가 눈에 보이지 않아 다양한 문제의 원인이 될 수 있음
- private 정적 멤버 클래스는 흔히 바깥 클래스가 표현하는 객체의 한부분을 나타낼 때 씀!

#
### 5. 멤버 클래스가 공개된 클래스
- 멤버 클래스가 공개된 클래스에서 public이나 protected 멤버라면 정적이냐 아니냐는 두배로 중요함
- 공개 api가 돼버리니 향후 static을 붙이면 하위 호환성이 깨짐

#
### 6. 익명 클래스
- 이름이 없는 클래스
- 바깥 클래스의 멤버도 아니다
- 코드의 어디서나 만들 수 있는 선언과 동시에 인스턴스를 만드는 것
- 비정적인 문맥에서 사용될 떄만 바깥 클래스의 인스턴스를 참조할 수 있음
- 정적 문맥에서라도 상수 이외의  정적 멤버는 가질 수 없다
- 상수 표현을 위해 초기회된 final 기본 타입과 문자열 필드만 가질 수 있음

<br>
- 응용을 위한 제약도 많다
- 선언한 지점에서만 인스턴스를 만들 수 있고 instanseof 검사나 클래스의 이름이 필료한 작업은 수행 불가
- 인터페이스를 구현하는 동시에 다른 클래스를 상속할 수도 없음
- 짧지 않으면 가독성 떨어짐
- 람다가 나오면서 잘 안씀

#
### 7. 지역 클래스
- 지역변수를 선언할 수 있는 곳이면 실질적으로 어디서든 선언할 수 있음
- 유효 범위도 지역변수랑 같음
- 이름이 있고 반복해서 사용할 수 있음
- 익명 클래스처럼 비정적 문맥에서 사용될 때만 바깥 인스턴스 참조 가능
- 정적 멤버 가지지 못함! 짧게 작성하자
