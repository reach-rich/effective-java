# finalizer와 cleaner 사용을 피하라
### 1. 자바가 제공하는 객체 소멸자
1) finalizer 
- 예측할 수 없고 상황에 따라 위험할 수도 있어 일반적으로 불필요

- 오동작, 낮은 성능, 이식성 문제의 원인이 되기도 함
- 자바 9에서는 사용자제 API로 지정하고 cleaner를 대안으로 소개함

  `그냥 웬만하면 쓰지 말자!`
<br>

2) cleaner
- finalizer 보다는 덜 위험하지만 여전히! 예측할 수 없고, 느리고, 불필요

#
### 2. C++ 프로그래머라면 파괴자의 개념과는 분리해서 생각하자!
- C++에서 생성자의 필수적인 대척점인 파괴자와는 다름

- 파괴자는 특정 객체의 자원을 회수하는 보편적인 방법!
- 자바는 가비지 컬렉터가 자원을 회수해줌!
- 자바의 finalizer, cleaner은 파괴자와는 확연하게 다르다!
- 자바에서 비메모리 자원을 회수하려면
  - try-with-resources
  - try-finally 사용!

#
### 3. 예측 불가능한 이유 : 즉시 수행된다 보장할 수 없음
- 객체에 접근할 수 없고 나서 finalize, cleaner가 언제 실행되는지 알 수 없다
- finalizer, cleaner로는 제때 실행되야하는 작업을 수행 불가능

- ex) 파일 닫기
  - finalizer, cleaner 사용 시 굉장해 엄청나 오류 발생
  - 시스템이 동시에 열 수 있는 파일 수는 한계가 있으나 finalizer, cleaner를 사용하면 실행을 느리게함
  - 결국! 새로운 파일을 열지못해 프로그램 실패 가능 ㅠㅜ


