### 📝 라이브러리를 익히고 사용하라

<br>

**✏ #01 예제소스 | 흔하지만 문제가 심각한 코드!**

```java
static Random rnd = new Random();

static int random(int n) {
	return Math.abs(rnd.nextInt()) % n;
}
```

>문제점
>
>1. n이 그리 크지 않은 2의 제곱수라면 얼마 지나지 않아 같은 수열이 반복
>2. n이 2의 제곱수가 아니라면 몇몇 숫자가 평균적으로 더 자주 반환
>3. n 값이 크면 이 현상은 두드러짐

<br>

- 자바 7부터는 `Random`을 더 이상 사용하지 않는게 좋음

- `ThreadLocalRandom`으로 대체하면 대부분 잘 작동

- `Random`보다 더 고품질의 무작위 수를 생성할 뿐 아니라 속도도 더 빠름

- 포크-조인 풀이나 병렬 스트림에서는 `SplittableRandom`을 사용

<br>

### 💡 표준 라이브러리 장점

1. 표준 라이브러리를 사용하면 그 코드를 작성한 전문가의 지식과 여러분보다 앞서 사용한 다른 프로그래머들의 경험을 활용할 수 있음
2. 핵심적인 일과 크게 관련 없는 문제를 해결하느라 시간을 허비하지 않아도 됨 
3. 따로 노력하지 않아도 성능이 지속해서 개선된다는 점
4. 기능이 점점 많아짐
5. 여러분이 작성한 코드가 많은 사람에게 낯익은 코드가 됨

<br>

**✔메이저 릴리스마다 주목할 만한 수많은 기능이 라이브러리에 추가된다!! **

<br>

**✏ #02 예제소스 | transferTo 메서드를 이용해 URL의 내용 가져오기 - 자바 9부터 가능**

```java
public static void main(String[] args) throws IOException {
    try (InputStream in = new URL(args[0]).openStream()) {
        in.transferTo(System.out);
    }
}
```

>예전에는 작성하기 까다로운 기능이었지만, 자바 9에서 InputStream에 추가된 transferTo 메서드를 사용해 쉽게 구현

<br>

자바 프로그래머라면 적어도 `java.lang`, `java.util`, `java.io`와 그 하위 패키지들에는 익숙해져야 함

특히 컬렉션 프레임워크와 스트림 라이브러리, `java.util.concurrent`의 동시성 기능

<br>

---

<br>

### 📌 핵심정리

**아주 특별한 나만의 기능이 아니라면 누군가 이미 라이브러리 형태로 구현해놓았을 가능성이 크다**

**그런 라이브러리가 있다면 쓰면 된다. 있는지 잘 모르겠다면 찾아보라.**

**일반적으로 라이브러리의 코드는 직접 작성한 것보다 품질이 좋고, 점차 개선될 가능성이 크다**

**라이브러리 코드는 개발자 각자가 작성하는 것보다 주목을 훨씬 많이 받으므로 코드 품질도 그만큼 높아진다**

<br>

