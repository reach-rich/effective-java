## 🌳 객체는 인터페이스를 사용해 참조하라

- 아이템 51에서 매개변수 타입으로 클래스가 아니라 인터페이스를 사용하라고 했다

- 이걸 `객체는 클래스가 아닌 인터페이스로 참조하라` 까지 확장해보자 ~

<br>

> 적합한 인터페이스만 있다면 매개변수뿐 아니라 반환값, 변수, 필드를 전부 인터페이스로 선언하자 !

    그렇다면.. 객체의 실제 클래스를 사용해야할 사오항은 오직.. 생성자로 생성할 때 뿐 !!!

#
### 🌙 유연 마법사 인터페이스

- 인터페이스를 타입으로 사용하는 습관을 가지면 프로그램이 훨씬 유연해진다!

```java
Set<Son> sonSet = new LinkedHashSet<>(); // 좋은놈!

LinkedHashSet<Son> sonSet = new LinkedHashSet<>(); // 나쁜놈!

Set<Son> sonSet = new HashSet(); // 짜잔
```

- 위의 예시에서 Set으로 선언한 것 처럼 인터페이스를 타입으로 사용한다면 구현 클래스를 교체할 때 새 생성자만 호출하면 된다
- 다른 건 하나도 안바꿔도 돼 대박 ~ !

> 주의할 점 : 원래 클래스가 인터페이스의 일반 규약 이외의 특별한 기능을 제공하며, 주변 코드가 이 기능에 기대어 동작한다면
> 새로운 클래스도 반드시 같은 기능을 제공해야해! (당근이지만 주의하라구) 

__🌚 잠깐 !!! 구현 타입을 바꾸려는 이유가 뭘까 ??__
    
     - 성능이 좋거나 멋진 신기능을 제공하는 타입이 나올수도 있기 때문이지 ~
     - 예를 들어 HashMap을 사용 중이었지만 EnumMap으로 바꾸면 속도가 빨라지는 경우가 있어
     
<br>

__🌚 잠깐 !!! 그냥 선언타입이랑 구현타입 다 컨트롤 에프하면 되는거 아냐?? << 안돼 !!__

     - 자칫하면 프로그램이 컴파일 되지 않을 수 있다고!
     - 기존 타입에서만 제공하는 메서드를 사용했거나, 기존 타입만 사용해야하는 다른 메서드에 인스턴스를 넘기면 어쩔래
     - 인터페이스 타입으로 선언하면 이런 일은 없을거얌

#
### 🌙 적합한 인터페이스 타입이 없다면 ?___ ? 당근 클래스로 참조하세요..

__1) 값 클래스__
- String, BigInteger 같은 값 클래스는 여러 가지로 구현될 수 있다고 생각하고 설계하는 일은 거의 없다
- final인 경우가 많고 상응하는 인터페이스가 없는 값 클래스와 같은 경우는 그냥 매개변수, 필드, 반환타입으로 사용해도 무관하다

__2) 프레임워크가 제공하는 클래스 기반의 객체__
- OutputStream 등 java.io 패키지에 속하는 여러 클래스들은 특정 구현 클래스보다는 (보통 추상클래스인) 기반 클래스를 사용해 참조하는게 좋다

__3) 인터페이스에 없는 특별한 메서드를 제공하는 클래스__
- PriorityQueue 클래스 처럼 Queue 인터페이스에 없는 comparator 메서드를 제공하는 경우에는 클래스 타입을 직접 사용하자
- 추가 메서드를 꼭 사용해야하는 경우로 최소화 하여 사용하자

<br>

> 더 많은 상황이 있을 수 있으니까 잘 찾아보고 적합한 인터페이스가 있으면 쓰고, 없다면 클래스의 계층구조 중 필요한 기능을 제일 잘 가지고 있는
> 가장 덜 구체적인 클래스 타입으로 사용하자 ~~ ! 
